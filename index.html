<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite GAG</title>
<style>
/* ... (Seu CSS completo e inalterado) ... */

/* Mensagens subliminares (ajustando a anima칞칚o para acomodar o tempo mais longo, se necess치rio.
   Por칠m, mantendo o flash r치pido para ser subliminar, e o JS far치 o timing) */
.subliminal-message {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 5rem;
    font-weight: 900;
    color: #ff0000;
    text-shadow: 0 0 30px #ff0000;
    z-index: 99999;
    pointer-events: none;
    background: rgba(0, 0, 0, 0.9);
    /* Mant칠m o flash curto no CSS, o JS controla a dura칞칚o total */
    animation: subliminalFlash 0.15s ease-out; 
}

.subliminal-message.active {
    display: flex;
}

@keyframes subliminalFlash {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* ... (Restante do seu CSS inalterado) ... */
</style>
</head>
<body>

 <script>
document.addEventListener('DOMContentLoaded', () => {
  const audio = document.getElementById('bgAudio');
  const audioToggle = document.getElementById('audioToggle');
  const appContainer = document.getElementById('app-container');
  const horrorTransition1 = document.getElementById('horrorTransition1');
  const horrorTransition2 = document.getElementById('horrorTransition2');
 먝
  // Efeitos assustadores
  const glitchEffect = document.getElementById('glitchEffect');
  const vhsEffect = document.getElementById('vhsEffect');
  const shadowCreep = document.getElementById('shadowCreep');
  const heartbeatPulse = document.getElementById('heartbeatPulse');
  const demonEyesLeft = document.getElementById('demonEyesLeft');
  const demonEyesRight = document.getElementById('demonEyesRight');
  const ambientFog1 = document.getElementById('ambientFog1');
  const ambientFog2 = document.getElementById('ambientFog2');
  const ambientFog3 = document.getElementById('ambientFog3');
  const screenDarken = document.getElementById('screenDarken');
 먝
  // Novos elementos assustadores
  const followingEyes1 = document.getElementById('followingEyes1');
  const followingEyes2 = document.getElementById('followingEyes2');
  const pupil1 = document.getElementById('pupil1');
  const pupil2 = document.getElementById('pupil2');
  const pupil3 = document.getElementById('pupil3');
  const pupil4 = document.getElementById('pupil4');
  const subliminalMsg = document.getElementById('subliminalMsg');
  const screenCrack = document.getElementById('screenCrack');
  const shadowFigure = document.getElementById('shadowFigure');
  const creepyHandLeft = document.getElementById('creepyHandLeft');
  const creepyHandRight = document.getElementById('creepyHandRight');
  const bloodStain = document.getElementById('bloodStain');
  const screamSound = document.getElementById('screamSound');
  const blurOverlay = document.getElementById('blurOverlay');
  const clickHint = document.querySelector('.click-hint');

  let audioPlayed = false;

  // --- L칍GICA DE MENSAGENS SUBLIMINARES (AQUI EST츼 A MUDAN칂A) ---
  
  // Aumentei o tempo de exibi칞칚o para 3500ms (3.5 segundos) no setTimeout.
  // O intervalo entre as mensagens tamb칠m foi ajustado para 15 segundos para
  // dar tempo para a mensagem desaparecer completamente antes da pr칩xima.
  const SUBLIMINAL_DURATION = 3500; // 3.5s
  const SUBLIMINAL_INTERVAL = 15000; // 15 segundos entre cada mensagem
  
  function runSubliminalMessages() {
    const messages = ["J츼 EST츼S MORTO", "OLHA PARA TR츼S", "CONFIA EM NINGU칄M", "TU N츾O EST츼S S칍"];
    let index = 0;
    
    setInterval(() => {
      if (subliminalMsg.classList.contains('active')) return; // Evita sobreposi칞칚o

      subliminalMsg.textContent = messages[index];
      subliminalMsg.classList.add('active'); 

      setTimeout(() => {
        subliminalMsg.classList.remove('active');
      }, SUBLIMINAL_DURATION); // 3500ms (3.5 segundos) de exibi칞칚o

      index = (index + 1) % messages.length;
    }, SUBLIMINAL_INTERVAL);
  }

  // --- FIM DA L칍GICA DE MENSAGENS SUBLIMINARES ---

  // Fun칞칚o principal para disparar efeitos de terror
  function triggerHorrorEffect(effect, duration, className = 'active') {
    effect.classList.add(className);
    setTimeout(() => {
      effect.classList.remove(className);
    }, duration);
  }

  function triggerRandomHorror() {
    const effects = [
      () => triggerHorrorEffect(glitchEffect, 500),
      () => triggerHorrorEffect(vhsEffect, 3000),
      () => triggerHorrorEffect(heartbeatPulse, 6000),
      () => triggerHorrorEffect(screenCrack, 400),
      () => triggerHorrorEffect(creepyHandLeft, 2000),
      () => triggerHorrorEffect(creepyHandRight, 2000),
    ];
    const randomIndex = Math.floor(Math.random() * effects.length);
    effects[randomIndex]();
  }

  // Inicializar efeitos permanentes
  ambientFog1.classList.add('active');
  ambientFog2.classList.add('active');
  ambientFog3.classList.add('active');
  demonEyesLeft.classList.add('active');
  demonEyesRight.classList.add('active');
  followingEyes1.classList.add('active');
  followingEyes2.classList.add('active');
  
  // Iniciar loop de terror e mensagens subliminares
  runSubliminalMessages();
  setInterval(triggerRandomHorror, 5000); 


  // Fun칞칚o para seguir o cursor
  function movePupil(event, pupil, eye) {
    const { clientX, clientY } = event;
    const eyeRect = eye.getBoundingClientRect();
    const eyeX = eyeRect.left + eyeRect.width / 2;
    const eyeY = eyeRect.top + eyeRect.height / 2;
    const dx = clientX - eyeX;
    const dy = clientY - eyeY;
    const angle = Math.atan2(dy, dx);
    const maxDist = 8; // Dist칙ncia m치xima que a pupila se move
    
    const pupilX = Math.cos(angle) * maxDist;
    const pupilY = Math.sin(angle) * maxDist;

    pupil.style.transform = `translate(-50%, -50%) translate(${pupilX}px, ${pupilY}px)`;
  }

  document.addEventListener('mousemove', (event) => {
    movePupil(event, pupil1, followingEyes1.querySelector('.eye:nth-child(1)'));
    movePupil(event, pupil2, followingEyes1.querySelector('.eye:nth-child(2)'));
    movePupil(event, pupil3, followingEyes2.querySelector('.eye:nth-child(1)'));
    movePupil(event, pupil4, followingEyes2.querySelector('.eye:nth-child(2)'));
  });


  // L칩gica de Navega칞칚o
  const pages = document.querySelectorAll('.page');
  const nextButtons = document.querySelectorAll('.next');
  let currentPage = 1;

  function showPage(pageNumber) {
    pages.forEach(page => page.classList.remove('active'));
    document.getElementById(`page${pageNumber}`).classList.add('active');
    currentPage = pageNumber;
  }

  nextButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Dispara o efeito de transi칞칚o assustadora antes de mudar de p치gina
      const targetPage = parseInt(button.dataset.page.replace('page', ''));

      if (targetPage === 3) {
        triggerHorrorEffect(horrorTransition2, 4000);
        // Espera a transi칞칚o acabar (4000ms)
        setTimeout(() => showPage(targetPage), 3500); 
      } else {
        showPage(targetPage);
      }
    });
  });

  // L칩gica do primeiro clique (blur e 치udio)
  blurOverlay.addEventListener('click', () => {
    if (currentPage === 1) {
      // 1. Toca o 치udio
      if (!audioPlayed) {
        audio.play().catch(e => console.log("츼udio n칚o p칪de ser reproduzido automaticamente."));
        audioPlayed = true;
      }
      
      // 2. Remove o blur e o hint
      blurOverlay.classList.remove('blur-overlay');
      blurOverlay.querySelector('.blur-content').style.filter = 'none';
      blurOverlay.querySelector('.blur-content').style.opacity = 1;
      clickHint.style.display = 'none';
      
      // 3. Dispara a primeira transi칞칚o e navega para a p치gina 2
      triggerHorrorEffect(horrorTransition1, 4000);
      screamSound.play().catch(e => console.log("Scream failed."));
      
      // 4. Navega para a p치gina 2 ap칩s a transi칞칚o
      setTimeout(() => {
        showPage(2);
      }, 3500); 
    }
  });

  // L칩gica do toggle de 치udio
  audioToggle.addEventListener('click', () => {
    if (audio.paused) {
      audio.play().catch(e => console.log("Play failed."));
      audioToggle.textContent = '游댉';
    } else {
      audio.pause();
      audioToggle.textContent = '游댆';
    }
  });

});
</script>
</body>
</html>
