<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convite GAG - Finalizado</title>
<style>
/* *** AVISO IMPORTANTE ***
    Para que este c√≥digo funcione corretamente, certifique-se de que os arquivos:
    - GAGsaw.jpg (A imagem de susto)
    - babi2k.mp3 (O √°udio de fundo)
    ... ESTEJAM NO MESMO DIRET√ìRIO DESTE ARQUIVO HTML.
*/

/* --- ESTILOS GERAIS E EFEITOS (MANTIDOS) --- */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a1f0a 0%, #1a3a1a 100%);
    min-height: 100vh; display: flex; align-items: center; justify-content: center;
    padding: 20px; position: relative; overflow: hidden; 
}

/* EFEITOS DE FUNDO (Apenas exemplos, estilos completos no c√≥digo anterior) */
.blood-drip { position: fixed; width: 2px; background: red; animation: drip 5s ease-in infinite; pointer-events: none; z-index: 999; }
@keyframes drip { 0% { height: 0; opacity: 0; } 5% { opacity: 1; } 100% { height: 85vh; opacity: 0; } }
.screen-darken { position: fixed; inset: 0; background: #000; opacity: 0; pointer-events: none; z-index: 9998; transition: opacity 0.6s ease-out; }
.screen-darken.active { opacity: 0.85; }
.subliminal-message { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; font-size: 5rem; font-weight: 900; color: #ff0000; text-shadow: 0 0 30px #ff0000; z-index: 99999; pointer-events: none; background: rgba(0, 0, 0, 0.9); animation: subliminalFlash 0.15s ease-out; }
.subliminal-message.active { display: flex; }
@keyframes subliminalFlash { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
@keyframes shake {
    0%, 100% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); }
}

/* --- CONTE√öDO PRINCIPAL (MANTIDOS) --- */
#app-container { position: relative; z-index: 10; width: 100%; max-width: 500px; }
.page { display: none; opacity: 0; transition: opacity 0.3s ease; }
.page.active { display: block; opacity: 1; }
.card, .info-card { /* ... estilos de card ... */ }

/* Page 1 - Blur */
.blur-overlay { position: relative; cursor: pointer; }
.blur-content { filter: blur(15px); opacity: 0.5; transition: all 0.3s ease; }
.click-hint { /* ... estilos de hint ... */ }

/* Page 2 - GAGsaw Image (Tremor Leve) */
.gagsaw-image {
    width: 200px; height: 200px; margin: 0 auto 35px; position: relative; border-radius: 50%;
    overflow: hidden; border: 3px solid rgba(191, 247, 163, 0.4);
    box-shadow: 0 0 30px rgba(191, 247, 163, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.5);
    animation: pulse-glow 3s ease-in-out infinite, shake 0.2s ease-in-out infinite;
}
.gagsaw-image img { width: 100%; height: 100%; object-fit: cover; }

/* JUMPSCARE FINAL (TELA CHEIA E TREMOR INTENSO) */
#final-jumpscare { position: fixed; inset: 0; background: #000; display: flex; align-items: center; justify-content: center; z-index: 100000; opacity: 0; transition: opacity 0.5s ease-out; }
#final-jumpscare.active { opacity: 1; }
#jumpscare-image-container { width: 100vw; height: 100vh; display: flex; align-items: center; justify-content: center; animation: shake 0.1s ease-in-out infinite; } 
#jumpscare-image-container img { width: 100%; height: 100%; object-fit: cover; filter: contrast(1.5) saturate(2) brightness(1.2); }
/* Bot√µes Next (MANTIDOS) */
.next { /* ... estilos de bot√£o ... */ }
</style>
</head>
<body>

    <div class="blood-drip" style="left: 10%;"></div>
    <div class="blood-drip" style="left: 50%; animation-delay: 1.5s;"></div>
    <div class="blood-drip" style="left: 90%; animation-delay: 3s;"></div>
    <div class="screen-darken" id="screenDarken"></div>
    <div class="subliminal-message" id="subliminalMsg"></div>

    <audio id="screamSound" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGnODyvmwhBTGH0fPTgjMGHm7A7+OZSA0PVqzn77FeFg=="></audio>
    <audio id="bgAudio" src="babi2k.mp3" loop></audio>
    <button id="audioToggle">üîá</button>

    <div id="final-jumpscare">
        <div id="jumpscare-image-container">
            <img src="GAGsaw.jpg" alt="Jumpscare Final">
        </div>
    </div>

    <div id="app-container">
        <div id="page1" class="page active">
            <div class="blur-overlay" id="blurOverlay">
                <div class="click-hint">CLICA AQUI PUT@</div>
                <div class="blur-content">
                    <div class="card">
                        <h2 style="font-size: 2.5rem; color: #BFF7A3; margin-bottom: 35px; font-weight: 700;">ATEN√á√ÉO, GAG!</h2>
                        <p>O evento mais GAG do ano ser√°:</p>
                        <ul>
                            <li><strong>DATA:</strong> XXXX</li>
                            <li><strong>HORA:</strong> XXXX</li>
                            <li><strong>LOCAL:</strong> XXXX</li>
                        </ul>
                        <p>... Clica para ver as informa√ß√µes completas e a foto do GAGsaw!</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="page2" class="page">
            <div class="info-card">
                <div class="gagsaw-image">
                    <img src="GAGsaw.jpg" alt="GAGsaw">
                </div>
                <h2>INFORMA√á√ïES SECRETAS</h2>
                <p>O evento mais GAG do ano √©:</p>
                <ul>
                    <li><strong>DATA:</strong> 31 de Dezembro, 2025 (Fim de Ano)</li>
                    <li><strong>HORA:</strong> A partir das 22h00</li>
                    <li><strong>LOCAL:</strong> A Casa do Puto, Rua das Gags, N¬∫ 69</li>
                </ul>
                <p>... E prepara-te para a regra de vestu√°rio!</p>
                <button class="next" data-page="jumpscare">REVELAR O SEGREDO FINAL</button>
            </div>
        </div>
        
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('bgAudio');
    const screamSound = document.getElementById('screamSound');
    const audioToggle = document.getElementById('audioToggle');
    const blurOverlay = document.getElementById('blurOverlay');
    const clickHint = document.querySelector('.click-hint');
    const nextButtons = document.querySelectorAll('.next');
    const subliminalMsg = document.getElementById('subliminalMsg');
    const screenDarken = document.getElementById('screenDarken');
    const finalJumpscare = document.getElementById('final-jumpscare'); 

    let isAudioPlaying = false;
    let currentPage = 'page1';

    // --- Fun√ß√µes Auxiliares ---

    function setActive(el, duration = 0) {
        el.classList.add('active');
        if (duration > 0) {
            setTimeout(() => {
                el.classList.remove('active');
            }, duration);
        }
    }

    function triggerSubliminal(message, duration = 1500) { 
        subliminalMsg.textContent = message;
        setActive(subliminalMsg, duration);
    }
    
    function triggerFinalJumpscare() {
        audio.pause(); // Pausa o √°udio de fundo
        document.getElementById(currentPage).style.opacity = 0; 
        
        finalJumpscare.classList.add('active');

        // FOR√áANDO O √ÅUDIO DE GRITO (Se o arquivo estiver presente)
        screamSound.currentTime = 0; // Reinicia o som
        screamSound.play().catch(e => console.error("Erro ao tocar GRITO:", e));

        triggerSubliminal("OLHA AGORA", 800); 
    }

    // --- L√≥gica de Navega√ß√£o e Intera√ß√£o ---

    function switchPage(targetPageId) {
        if (targetPageId === 'jumpscare') {
            triggerFinalJumpscare();
            return;
        }

        document.getElementById(currentPage).classList.remove('active');
        const targetPage = document.getElementById(targetPageId);
        targetPage.classList.add('active');
        currentPage = targetPageId;

        screenDarken.classList.remove('active');
    }

    // AUMENTANDO A FOR√áA DA REPRODU√á√ÉO NO CLIQUE INICIAL
    blurOverlay.addEventListener('click', () => {
        if (currentPage === 'page1') {
            
            // 1. TENTA INICIAR O √ÅUDIO DE FUNDO COM MAIOR ROBUSTEZ
            if (!isAudioPlaying) {
                audio.play()
                    .then(() => {
                        isAudioPlaying = true;
                        audioToggle.textContent = 'üîä';
                    })
                    .catch(error => {
                        console.error("√Åudio bloqueado. Arquivo ausente ou bloqueio de autoplay:", error);
                        // Mensagem de fallback caso falhe
                        alert("O som est√° bloqueado. Por favor, clique no √≠cone de 'üîá' no canto para ativ√°-lo manualmente.");
                    });
            }

            // 2. Remove o blur e hint
            blurOverlay.classList.remove('blur-overlay');
            blurOverlay.removeChild(clickHint);
            document.querySelector('.blur-content').style.filter = 'none';
            document.querySelector('.blur-content').style.opacity = '1';
            
            // 3. Jumpscare leve e escurecimento
            setActive(screenDarken, 1000);
            triggerSubliminal("RUN", 1500); 

            // 4. Transi√ß√£o para Page 2 (2 segundos de delay)
            setTimeout(() => {
                switchPage('page2');
            }, 2000); 
        }
    });

    // Eventos de Navega√ß√£o
    nextButtons.forEach(button => {
        button.addEventListener('click', (e) => {
            const targetPageId = e.target.getAttribute('data-page');
            if (targetPageId) {
                switchPage(targetPageId);
            }
        });
    });

    // Toggle de √°udio manual (IMPORTANTE PARA BYPASS AUTOPLAY)
    audioToggle.addEventListener('click', () => {
        if (isAudioPlaying) {
            audio.pause();
            isAudioPlaying = false;
            audioToggle.textContent = 'üîá';
        } else {
            audio.play().then(() => {
                isAudioPlaying = true;
                audioToggle.textContent = 'üîä';
            }).catch(error => {
                console.error("Falha ao tocar o √°udio manual:", error);
                alert("O √°udio n√£o pode ser reproduzido. Verifique se o arquivo 'babi2k.mp3' foi carregado corretamente.");
            });
        }
    });

    // --- INICIALIZA√á√ÉO ---
    document.querySelectorAll('.blood-drip').forEach(drip => drip.style.display = 'block');
});
</script>
</body>
</html>
